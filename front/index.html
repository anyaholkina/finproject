<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Smart Money - Приложение для управления личными финансами</title>
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/button.css" />
    <link rel="stylesheet" href="css/entry.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
</head>
<body>
    <header class="header bg-light p-3 fixed-top">
        <div class="container d-flex justify-content-between align-items-center h-100">
            <a href="index.html">
                <img src="images/logo — копия.png" class="img-thumbnail" alt="Логотип">
            </a>
            <div class="auth-buttons">
                <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#authModal"> Войти </button>
                <a href="register.html" class="btn btn-primary">Регистрация</a>
            </div>
        </div>
    </header>

    <section class="hero-section d-flex align-items-center justify-content-center" style="min-height: 70vh;">
        <div class="container-fluid text-center px-2">
            <h1 class="mb-4"><span class="d-block d-md-inline">Приложение для</span> <span class="d-block d-md-inline">управления личными финансами</span></h1>
            <h4 class="mb-5">Сервис для учета расходов и семейного бюджета</h4>
            <a href="register.html" class="btn-4"><span>Начать</span></a>
        </div>
    </section>

    <section class="cards-section">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <div class="card mb-4">
                        <div class="card-body">
                            <h2 class="feature-title">Анализ</h2>
                            <ul class="list-unstyled">
                                <li class="feature-item">График и отчеты</li>
                                <li class="feature-item">Категории расходов</li>
                                <li class="feature-item">Динамика доходов</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="card mb-4">
                        <div class="card-body">
                            <h2 class="feature-title">Семья</h2>
                            <ul class="list-unstyled">
                                <li class="feature-item">Общий бюджет</li>
                                <li class="feature-item">Совместные цели</li>
                                <li class="feature-item">Контроль расходов</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="card mb-4">
                        <div class="card-body">
                            <h2 class="feature-title">Уведомления</h2>
                            <ul class="list-unstyled">
                                <li class="feature-item">Контроль лимитов</li>
                                <li class="feature-item">Напоминания</li>
                                <li class="feature-item">Важные события</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer pt-3 pb-1" style="background-color: #3f3e3e; border-top: 1px solid #555;">
        <div class="container">
            <div class="row align-items-center text-center text-md-start">
                <div class="col-md-4 mb-3 mb-md-0 d-flex flex-column align-items-center align-items-md-start">
                    <img src="images/logo — копия.png" class="img-thumbnail mb-2" style="max-height:38px; background:transparent; border:none;" alt="Логотип">
                    <div class="fw-bold text-white" style="font-size:17px;">Практиканты 2025</div>
                </div>
                <div class="col-md-2 mb-2 mb-md-0">
                    <div class="d-flex align-items-center mb-2 gap-2 justify-content-center justify-content-md-start">
                        <i class="bi bi-info-circle text-white"></i>
                        <span class="fw-semibold text-white" style="font-size:16px;">О сервисе</span>
                    </div>
                    <ul class="list-unstyled mb-0">
                        <li><a href="#" class="footer-link">Ссылка</a></li>
                        <li><a href="#" class="footer-link">Ссылка</a></li>
                    </ul>
                </div>
                <div class="col-md-2 mb-2 mb-md-0">
                    <div class="d-flex align-items-center mb-2 gap-2 justify-content-center justify-content-md-start">
                        <i class="bi bi-question-circle text-white"></i>
                        <span class="fw-semibold text-white" style="font-size:16px;">Помощь</span>
                    </div>
                    <ul class="list-unstyled mb-0">
                        <li><a href="#" class="footer-link">FAQ</a></li>
                        <li><a href="#" class="footer-link">Поддержка</a></li>
                    </ul>
                </div>
                <div class="col-md-2 mb-2 mb-md-0">
                    <div class="d-flex align-items-center mb-2 gap-2 justify-content-center justify-content-md-start">
                        <i class="bi bi-envelope text-white"></i>
                        <span class="fw-semibold text-white" style="font-size:16px;">Контакты</span>
                    </div>
                    <ul class="list-unstyled mb-0">
                        <li><a href="#" class="footer-link">Email</a></li>
                        <li><a href="#" class="footer-link">Телефон</a></li>
                    </ul>
                </div>
            </div>
            <div class="text-center mt-3" style="color:#bbb; font-size:13px;">&copy; 2025 Smart Money. Все права защищены.</div>
        </div>
    </footer>

    <!-- Модальное окно авторизации -->
    <div class="modal fade" id="authModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header border-0 justify-content-end">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body px-5 pb-5 pt-0">
                    <h1 class="modal-title text-center mb-4">Вход</h1>
                    <form onsubmit="loginUser(event)">
                        <div class="mb-3">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-control" id="login-email" placeholder="Введите email" required>
                        </div>
                        <div class="mb-4">
                            <label class="form-label">Пароль</label>
                            <input type="password" class="form-control" id="login-password" placeholder="Введите пароль" required>
                        </div>
                        <div class="mb-4 text-center">
                            <a href="index.html" class="text-decoration-none">Вернуться на главную</a>
                        </div>
                        <button type="submit" class="btn btn-primary w-100 py-2">Войти</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="js/bootstrap.bundle.min.js"></script>
    <script>
    function loginUser(e) {
        e.preventDefault();
        const email = document.getElementById('login-email').value;
        const password = document.getElementById('login-password').value;

        fetch('/api/login', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Accept': 'application/json'
            },
            body: JSON.stringify({
                email: email,
                password: password
            })
        })
        .then(res => res.json())
        .then(data => {
            if (data.token || data.access_token || data.user) {
                // Сохраняем токен для последующих запросов
                if (data.token) localStorage.setItem('token', data.token);
                else if (data.access_token) localStorage.setItem('token', data.access_token);
                window.location.href = 'finance.html';
            } else if (data.errors) {
                let msg = '';
                for (const key in data.errors) {
                    msg += data.errors[key].join(' ') + '\n';
                }
                alert('Ошибка: ' + msg);
            } else {
                alert('Ошибка входа');
            }
        })
        .catch(() => alert('Ошибка соединения с сервером'));
    }
    </script>

    <style>
    .hero-section {
      padding-top: 100px !important;
    }
    @media (max-width: 767.98px) {
      .hero-section .container-fluid,
      .hero-section .container {
        max-width: 100vw !important;
        width: 100vw !important;
        padding-left: 0 !important;
        padding-right: 0 !important;
        margin: 0 !important;
      }
      .hero-section h1 {
        font-size: 1.05rem !important;
        line-height: 1.15 !important;
        word-break: break-word !important;
        white-space: normal !important;
        font-weight: 600 !important;
        margin-bottom: 1rem !important;
        padding-left: 4vw !important;
        padding-right: 4vw !important;
        letter-spacing: 0 !important;
      }
      .hero-section h4 {
        font-size: 0.95rem !important;
        line-height: 1.2 !important;
        word-break: break-word !important;
        white-space: normal !important;
        padding-left: 4vw !important;
        padding-right: 4vw !important;
      }
      .btn-4 {
        font-size: 1rem !important;
        width: 95vw !important;
        min-width: 0 !important;
        max-width: 100vw !important;
        height: 44px !important;
        border-radius: 24px !important;
        padding: 0 8px !important;
      }
    }
    </style>
</body>
</html>